<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>卡牌 | 星际酒馆二创手册</title><meta name="description" content="星际酒馆二创手册">
    <link rel="modulepreload" href="/SCTavern-Editor-Manual/assets/app.c004be2d.js"><link rel="modulepreload" href="/SCTavern-Editor-Manual/assets/index.html.d9c94f5a.js"><link rel="modulepreload" href="/SCTavern-Editor-Manual/assets/index.html.5e4e8475.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.5bdfe819.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/effectString.html.c1a12d42.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.52e22461.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.3c96e8c3.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.ac25835b.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.4e112d5f.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.013647cc.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.4d999574.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.591b3d9d.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/effectString.html.870dfafa.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.b466388a.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.ffac7a49.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.a3501018.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.a9cdc6b1.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.83e831f6.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/index.html.2b003c72.js"><link rel="prefetch" href="/SCTavern-Editor-Manual/assets/404.html.0b45e971.js">
    <link rel="stylesheet" href="/SCTavern-Editor-Manual/assets/style.cbabc07a.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/SCTavern-Editor-Manual/" class=""><!----><span class="site-name">星际酒馆二创手册</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/SCTavern-Editor-Manual/" class="sidebar-item sidebar-heading" aria-label="开始"><!--[--><!--]--> 开始 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="卡牌"><!--[--><!--]--> 卡牌 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#添加一个卡牌模板" class="router-link-active router-link-exact-active sidebar-item" aria-label="添加一个卡牌模板"><!--[--><!--]--> 添加一个卡牌模板 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡牌识别符" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡牌识别符"><!--[--><!--]--> 卡牌识别符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡牌子类" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡牌子类"><!--[--><!--]--> 卡牌子类 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡牌种族" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡牌种族"><!--[--><!--]--> 卡牌种族 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#初始单位" class="router-link-active router-link-exact-active sidebar-item" aria-label="初始单位"><!--[--><!--]--> 初始单位 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#词条说明字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="词条说明字符串"><!--[--><!--]--> 词条说明字符串 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡牌描述" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡牌描述"><!--[--><!--]--> 卡牌描述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#金色卡牌与三连" class="router-link-active router-link-exact-active sidebar-item" aria-label="金色卡牌与三连"><!--[--><!--]--> 金色卡牌与三连 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#熟练使用卡牌模板" class="router-link-active router-link-exact-active sidebar-item" aria-label="熟练使用卡牌模板"><!--[--><!--]--> 熟练使用卡牌模板 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡牌模板索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡牌模板索引"><!--[--><!--]--> 卡牌模板索引 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#卡池" class="router-link-active router-link-exact-active sidebar-item" aria-label="卡池"><!--[--><!--]--> 卡池 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#商店卡牌和暂存区卡牌" class="router-link-active router-link-exact-active sidebar-item" aria-label="商店卡牌和暂存区卡牌"><!--[--><!--]--> 商店卡牌和暂存区卡牌 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#玩家的卡牌" class="router-link-active router-link-exact-active sidebar-item" aria-label="玩家的卡牌"><!--[--><!--]--> 玩家的卡牌 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#运用卡牌模板" class="router-link-active router-link-exact-active sidebar-item" aria-label="运用卡牌模板"><!--[--><!--]--> 运用卡牌模板 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/SCTavern-Editor-Manual/card/effectString.html" class="sidebar-item sidebar-heading" aria-label="特效字符串"><!--[--><!--]--> 特效字符串 <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/unit/" class="sidebar-item sidebar-heading" aria-label="单位"><!--[--><!--]--> 单位 <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/upgrade/" class="sidebar-item sidebar-heading" aria-label="卡牌升级"><!--[--><!--]--> 卡牌升级 <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/hero/" class="sidebar-item sidebar-heading" aria-label="角色"><!--[--><!--]--> 角色 <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/exp/" class="sidebar-item sidebar-heading" aria-label="拓展包"><!--[--><!--]--> 拓展包 <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/ui/" class="sidebar-item sidebar-heading" aria-label="UI"><!--[--><!--]--> UI <!--[--><!--]--></a><!----></li><li><a href="/SCTavern-Editor-Manual/testParams/" class="sidebar-item sidebar-heading" aria-label="测试参数"><!--[--><!--]--> 测试参数 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="卡牌" tabindex="-1"><a class="header-anchor" href="#卡牌" aria-hidden="true">#</a> 卡牌</h1><p>卡牌是酒馆的核心，而商店中的所有卡牌都是基于卡牌模板生成的。为了能让玩家找到并购买卡牌，我们首先需要设计卡牌的卡牌模板。</p><h2 id="添加一个卡牌模板" tabindex="-1"><a class="header-anchor" href="#添加一个卡牌模板" aria-hidden="true">#</a> 添加一个卡牌模板</h2><p>我们以创建非拓展包的人族卡牌为例，首先找到动作<code>核心人族初始化</code></p><div class="custom-container tip"><p class="custom-container-title">位置</p><p>商店阶段&gt;卡牌模板&gt;模板初始化&gt;卡牌数据&gt;核心人族初始化</p></div><p><img src="/SCTavern-Editor-Manual/images/p1.png" alt="P1"></p><p>可以看到，我们是通过动作<code>添加一个卡牌模板</code>来创建卡牌模板的。下面我们来简述这个动作所有参数的作用：</p><ul><li>卡牌名称：只用于展示，无法根据卡牌名称区分卡牌。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E8%AF%86%E5%88%AB%E7%AC%A6" class="router-link-active router-link-exact-active">卡牌识别符</a>：用于赋予卡牌一些特性，比如当你希望你的卡牌无法三连时，可将此参数改为“无法三连”。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E5%AD%90%E7%B1%BB" class="router-link-active router-link-exact-active">卡牌子类</a>：卡牌子类跟卡牌识别符类似，也用于识别和区分卡牌。其主要功能是标识卡牌的子种族或阵营（如“原始虫群”、“塔达林”、“埃蒙”等）。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E7%A7%8D%E6%97%8F" class="router-link-active router-link-exact-active">卡牌种族</a>：用来设置卡牌所属种族。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%88%9D%E5%A7%8B%E5%8D%95%E4%BD%8D" class="router-link-active router-link-exact-active">初始单位</a>：用来设置卡牌的初始单位。</li><li><a href="/SCTavern-Editor-Manual/card/effectString.html" class="">特效字符串</a>：为了让卡牌具有特定的功能，我们必须使用“特效字符串”。这也是制作卡牌最重要的环节。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E8%AF%8D%E6%9D%A1%E8%AF%B4%E6%98%8E%E5%AD%97%E7%AC%A6%E4%B8%B2" class="router-link-active router-link-exact-active">词条说明字符串</a>：如下图所示的词条提示，它就是根据“词条说明字符串”自动生成的。</li></ul><p><img src="/SCTavern-Editor-Manual/assets/p11.fc322ebe.png" alt="p11"></p><ul><li>虚空投影：值为<code>真</code>时，卡牌将自带虚空投影。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E6%8F%8F%E8%BF%B0" class="router-link-active router-link-exact-active">卡牌自定义描述</a>：值为<code>无文本</code>时，将自动生成描述。否则卡牌描述将变为此值。</li><li><a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E6%8F%8F%E8%BF%B0" class="router-link-active router-link-exact-active">卡牌自定义描述(三连后)</a>：与“卡牌自定义描述”类似，不过是三连后的描述。</li><li>卡牌星级：1-6星的卡牌可进入商店。</li></ul><h2 id="卡牌识别符" tabindex="-1"><a class="header-anchor" href="#卡牌识别符" aria-hidden="true">#</a> 卡牌识别符</h2><p>用于赋予卡牌一些特性。</p><h4 id="所有卡牌识别符" tabindex="-1"><a class="header-anchor" href="#所有卡牌识别符" aria-hidden="true">#</a> 所有卡牌识别符</h4><ul><li>无法三连：参考卡牌「挖宝奇兵」。令卡牌无法三连并且显示为暗金色。暗金色具体说明请参考“<a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E9%87%91%E8%89%B2%E5%8D%A1%E7%89%8C%E4%B8%8E%E4%B8%89%E8%BF%9E" class="router-link-active router-link-exact-active">金色卡牌与三连</a>”。</li><li>无法进入卡池：这样的卡牌无法在商店中找到，出售后也不会补充到商店中。</li><li>无：无特性</li><li>建筑卡：参考角色“行星要塞”的特殊卡牌，包含了“无法进入卡池”的特性。</li><li>红卡：将卡牌变为红色，并没有具体作用。你可以根据自己的想法赋予特性。</li><li>辅助卡：参考角色“诺娃”的特殊卡牌，无法进入卡池，并且出售无法获得晶体矿。</li><li>出售免费。</li><li>虫卵：用于识别卡牌是否为虫卵。</li><li>比赛冠军：本是用于制作寿仙杯冠军的卡牌，现在也可以用来制作特典卡牌。其特性是：每局游戏初始化时，有一定概率为卡池添加1张此卡牌，否则无法找到该卡牌。</li></ul><h4 id="自制卡牌识别符" tabindex="-1"><a class="header-anchor" href="#自制卡牌识别符" aria-hidden="true">#</a> 自制卡牌识别符</h4><p>假如我想做一个卡牌识别符，让进场的卡牌无法被出售（只能被摧毁）。请参考以下步骤</p><ol><li>创建卡牌识别符<br> 找到预设类型<strong>卡牌识别符</strong><div class="custom-container tip"><p class="custom-container-title">位置</p><p>卡牌&gt;卡牌识别符</p></div> 在其中创建新的识别符即可。</li><li>使用卡牌识别符<br> 找到动作<code>尝试出售卡牌</code><div class="custom-container tip"><p class="custom-container-title">位置</p><p>玩家&gt;玩家牌库&gt;尝试出售卡牌</p></div> 然后添加以下代码：<br><img src="/SCTavern-Editor-Manual/assets/p2.241e4e24.png" alt="p2"><img src="/SCTavern-Editor-Manual/assets/p3.267aebfd.png" alt="p3"><br> 我们只需判断<code>玩家已选择的卡牌</code>的成员<code>卡牌识别符</code>是否为<code>进场无法出售</code>即可。</li></ol><h2 id="卡牌子类" tabindex="-1"><a class="header-anchor" href="#卡牌子类" aria-hidden="true">#</a> 卡牌子类</h2><p>卡牌子类跟卡牌识别符类似，也用于识别和区分卡牌。</p><h4 id="所有卡牌子类" tabindex="-1"><a class="header-anchor" href="#所有卡牌子类" aria-hidden="true">#</a> 所有卡牌子类</h4><ul><li><s>UED：废案阵营。</s></li><li>原始虫群：参考卡牌「原始刺蛇」，选择此子类的卡牌可以发现原始专有升级，并且可以跟“供养”联动。</li><li><s>佣兵：废案阵营。</s></li><li>无：无特性。</li><li>塔达林：目前无特性，可以考虑为其添加专属升级。</li><li>刀锋女王：用于识别卡牌是否为「刀锋女王」。</li><li>埃蒙：选择此子类的卡牌可以发现黑暗专有升级（目前只有“虚空能量”）。</li></ul><p>想要实现“卡牌子类”具有专属升级，请参考“<a href="/SCTavern-Editor-Manual/upgrade/#%E5%8D%87%E7%BA%A7%E6%B1%A0" class="">升级池</a>”。</p><h2 id="卡牌种族" tabindex="-1"><a class="header-anchor" href="#卡牌种族" aria-hidden="true">#</a> 卡牌种族</h2><p>类型为整数，实际上只有4个值，我们用4个常量表示：</p><ul><li><code>_Terran</code>值为0，表示人族卡牌。</li><li><code>_Zerg</code>值为1，表示虫族卡牌。</li><li><code>_Protoss</code>值为2，表示神族卡牌。</li><li><code>_Void</code>值为3，表示中立卡牌。</li></ul><div class="custom-container warning"><p class="custom-container-title">注意</p><p>无法添加新的种族，请使用<a aria-current="page" href="/SCTavern-Editor-Manual/card/#%E5%8D%A1%E7%89%8C%E5%AD%90%E7%B1%BB" class="router-link-active router-link-exact-active">卡牌子类</a>来细分种族的阵营。</p></div><h2 id="初始单位" tabindex="-1"><a class="header-anchor" href="#初始单位" aria-hidden="true">#</a> 初始单位</h2><p>如果你的单位种类超过了3，请使用动作<code>为刚才的模板补充额外单位</code>，参考卡牌「步兵联队」。</p><h2 id="词条说明字符串" tabindex="-1"><a class="header-anchor" href="#词条说明字符串" aria-hidden="true">#</a> 词条说明字符串</h2><p>词条说明字符串由<code>a-z</code>26个字母组成。每一个字母对应一个词条。找到动作<code>初始化特殊词条</code>在此添加或修改词条。</p><div class="custom-container tip"><p class="custom-container-title">位置</p><p>玩家卡牌特效&gt;特殊词条&gt;初始化特殊词条</p></div><div class="custom-container danger"><p class="custom-container-title">注意</p><p>必须使用一个字符代表一个词条，切记不要用多字符代表一个词条。如果你不满足于26个词条的上限，请找到常量<code>_特殊词条数量上限</code>和函数<code>特殊词条索引字符对应</code>进行修改。</p></div><h4 id="自动补充词条说明" tabindex="-1"><a class="header-anchor" href="#自动补充词条说明" aria-hidden="true">#</a> 自动补充词条说明</h4><p>一些<a href="/SCTavern-Editor-Manual/card/effectString.html" class="">子特效字符串</a>将自动为卡牌的“词条说明字符串”添加词条。你只需要手动补充那些遗漏的词条即可。你也可以修改函数<code>自动填充左侧特殊词条</code>，来修改自动补充功能。</p><h4 id="自制词条" tabindex="-1"><a class="header-anchor" href="#自制词条" aria-hidden="true">#</a> 自制词条</h4><p>目前酒馆最多支持26个词条，因此不推荐新建词条，而是更改目前一些不再被使用的废弃词条。修改步骤如下：</p><ol><li>在动作<code>初始化特殊词条</code>中修改动作<code>添加一个特殊词条</code>，来修改词条。其参数如下：</li></ol><ul><li>名称</li><li>字符代号：用一个字母表示该词条。仅做修改时，不需要修改此参数。</li><li>标志颜色</li><li>介绍</li><li>对话框中显示高度</li><li>可简化：参考下图，值为<code>真</code>时，购买后的卡牌将只显示一个“感叹号图标”。</li><li>简化后标题宽度：用于确定“感叹号图标”的位置。</li></ul><p><img src="/SCTavern-Editor-Manual/assets/p12.75cf998d.png" alt="p12"><br><img src="/SCTavern-Editor-Manual/assets/p13.0542bbe5.png" alt="p13"></p><ol start="2"><li>按照<code>1</code>对应<code>a</code>、<code>2</code>对应<code>b</code>...的关系。根据你修改词条的<code>字符代号</code>，在文件夹“玩家卡牌特效&gt;特殊词条&gt;变量/常量”找到对应的常量。比如<code>c</code>对应的常量是<code>_特殊词条 - 空投索引</code>。然后将常量名称修改为你需要的名称。这些常量就是词条对应的索引。</li></ol><div class="custom-container tip"><p class="custom-container-title">提示</p><p>你可以使用函数<code>特殊词条索引字符对应</code>，来自根据“词条索引”为“词条说明字符串”添加词条。 也可使用函数<code>获得特殊词条名称</code>和<code>获得特殊词条名称带冒号</code>快速获取词条名称。</p></div><h2 id="卡牌描述" tabindex="-1"><a class="header-anchor" href="#卡牌描述" aria-hidden="true">#</a> 卡牌描述</h2><p>卡牌自动生成描述的规则为：</p><ul><li>卡牌自定义描述为<code>无文本</code>，则自动生成普通描述文本。</li><li>卡牌自定义描述(三连后)为<code>无文本</code>且卡牌自定义描述也为<code>无文本</code>，则自动生成三连描述文本。</li><li>卡牌自定义描述(三连后)为<code>无文本</code>且卡牌自定义描述不是<code>无文本</code>，则三连描述文本和普通描述文本相同。</li></ul><p>想知道“特效字符串”如何自动生成卡牌描述请参考<a href="/SCTavern-Editor-Manual/card/effectString.md/#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E6%8F%8F%E8%BF%B0" class="">自动生成描述</a>。</p><div class="custom-container tip"><p class="custom-container-title">想要自动生成又想自己加东西？</p><ul><li>你可以使用动作<code>卡牌自动描述的补充描述</code>来既保证卡牌能自动生成描述，又能在其后面补充自定义的描述。可参考卡牌「暗影卫队」中如何使用的。</li><li>或者使用函数<code>根据特效字符串生成描述文本</code>，你可以自定义描述文本的时候，不用浪费时间写一些可以自动生成的文本。参考卡牌「阿塔尼斯」的卡牌自定义描述。</li></ul></div><h2 id="金色卡牌与三连" tabindex="-1"><a class="header-anchor" href="#金色卡牌与三连" aria-hidden="true">#</a> 金色卡牌与三连</h2><p>卡牌的金色分为<strong>普通金色</strong>和<strong>暗金色</strong>。判断规则为：</p><ul><li><code>卡牌识别符</code>值为<code>无法三连</code>，则卡牌是暗金色卡牌。</li><li>卡牌变量的成员<code>金色</code>为<code>真</code>且<code>卡牌识别符</code>值不为<code>无法三连</code>，则是金色卡牌。</li></ul><p>三连卡牌的过程为：将卡牌变为“金色”卡牌，合并场上两张卡牌的单位，并给玩家三连奖励。因此我们可以知道，一张卡牌只要是<code>金色</code>为<code>真</code>，且<code>卡牌识别符</code>的值不是<code>无法三连</code>那它就具有三连效果。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>想将一张非金卡牌变为金色，只需要修改全局数组<code>玩家的卡牌</code>中对应卡牌的<code>金色</code>为<code>真</code>。</p></div><h2 id="熟练使用卡牌模板" tabindex="-1"><a class="header-anchor" href="#熟练使用卡牌模板" aria-hidden="true">#</a> 熟练使用卡牌模板</h2><p>如果你想了解更深层次的机制，请往下看。</p><h3 id="卡牌模板索引" tabindex="-1"><a class="header-anchor" href="#卡牌模板索引" aria-hidden="true">#</a> 卡牌模板索引</h3><p>当动作<code>添加一个卡牌模板</code>运行后，它会将卡牌模板的数据存入一个全局数组变量<code>卡牌所有模板</code>。这个数组保存了所有卡牌模板的数据，因此我需要某个卡牌模板的数据时，只需要知道它在<code>卡牌所有模板</code>中的索引（也就是“卡牌模板索引”），然后就能得到卡牌模板的数据。</p><h3 id="卡池" tabindex="-1"><a class="header-anchor" href="#卡池" aria-hidden="true">#</a> 卡池</h3><p>我们将“卡牌模板索引”塞入卡池，让玩家可以在商店中找到并购买它所对应的卡牌。这一步将是自动完成的，我们无需操作。</p><div class="custom-container tip"><p class="custom-container-title">卡池初始化</p><p>具体如何把“卡牌模板索引”塞入卡池，请参考：商店阶段&gt;卡池&gt;卡池初始化</p></div><h3 id="商店卡牌和暂存区卡牌" tabindex="-1"><a class="header-anchor" href="#商店卡牌和暂存区卡牌" aria-hidden="true">#</a> 商店卡牌和暂存区卡牌</h3><h4 id="商店运作的机制" tabindex="-1"><a class="header-anchor" href="#商店运作的机制" aria-hidden="true">#</a> 商店运作的机制</h4><ol><li>从卡池中抽取“卡牌模板索引”。</li><li>根据“卡牌模板索引”创建卡牌，陈列在商店中。</li><li>玩家购买卡牌，获得该商品的“卡牌模板索引”。</li><li>根据被购买商品的“卡牌模板索引”，生成卡牌到玩家手里。</li></ol><p>我们从这个机制中可以知道，商店中的卡牌只是“卡牌模板索引”的体现，你是无法修改商店卡牌的具体数据的。</p><h4 id="陈列的商品的卡牌模板" tabindex="-1"><a class="header-anchor" href="#陈列的商品的卡牌模板" aria-hidden="true">#</a> 陈列的商品的卡牌模板</h4><p>为了手动获取商店中某个玩家的某张卡牌的“卡牌模板索引”，我们可以找到全局数组变量<code>陈列的商品的卡牌模板</code>，我们可以看到这是一个二维数组。为了根据索引获取数据，我们还需要全局数组变量<code>卡牌所有模板</code>。比如我们想知道玩家2的商店中，在5号位摆放的卡牌的种族是不是人族时，我们可以这样写：<br><img src="/SCTavern-Editor-Manual/assets/p4.0960dd87.png" alt="p4"></p><p>值得注意的是，<strong>暂存卡牌</strong>的“卡牌模板索引”也储存在<code>陈列的商品的卡牌模板</code>中。比如我们想知道玩家3的暂存4号位的卡牌模板索引，我们可以这样写：<br><img src="data:image/png;base64,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" alt="p5"></p><p>你可以直接认为：<strong>“暂存区中的卡牌”和“商店中的卡牌”唯一的区别是“进场和三连”前者不需要花钱。</strong> 因此你完全可以把它们等同看待。</p><div class="custom-container tip"><p class="custom-container-title">索引</p><p><code>陈列的商品的卡牌模板</code>中索引1到<code>_陈列商品数量上限</code>储存的是“商店中的卡牌”的“卡牌模板索引”；(<code>_陈列商品数量上限</code>+1)到<code>_陈列商品数量+手牌数量上限</code>是“暂存的卡牌”的“卡牌模板索引”。</p></div><div class="custom-container tip"><p class="custom-container-title">卡牌模板索引为0</p><p>当<code>陈列的商品的卡牌模板</code>储存的某个值为0时，表示此玩家的此位置是一个空位。</p></div><div class="custom-container tip"><p class="custom-container-title">玩家已选择的陈列商品</p><p>变量<code>玩家已选择的陈列商品</code>表示当前玩家选择的“商店中卡牌的位置”或者“暂存卡牌的位置”。（注意，如果是观战玩家，那他选择的位置是观看对象的卡牌位置）。</p></div><div class="custom-container tip"><p class="custom-container-title">参考</p><p>函数<code>获取玩家商店中卡牌的数量</code>是如何实现的：</p><p><img src="/SCTavern-Editor-Manual/assets/p6.4a54fece.png" alt="p6"></p></div><h3 id="玩家的卡牌" tabindex="-1"><a class="header-anchor" href="#玩家的卡牌" aria-hidden="true">#</a> 玩家的卡牌</h3><p>玩家的卡牌特指已进场的卡牌，因此不包括暂存卡牌。当商店卡牌或暂存卡牌进场时，会根据进场卡牌的“卡牌模板索引”获取到卡牌模板数据，然后克隆一个卡牌出来。我们用全局数组变量<code>玩家的卡牌</code>储存玩家卡牌的所有数据。不同于<code>陈列的商品的卡牌模板</code>只储存“卡牌模板索引”，<code>玩家的卡牌</code>储存卡牌的所有数据。</p><div class="custom-container tip"><p class="custom-container-title">玩家已选择的卡牌</p><p>变量<code>玩家已选择的卡牌</code>表示当前玩家选择的卡牌位置（注意，如果是观战玩家，那他选择的位置是观看对象的卡牌位置）。</p></div><div class="custom-container tip"><p class="custom-container-title">卡牌模板索引为0</p><p>当<code>玩家的卡牌</code>的成员<code>模板索引</code>为0时，表示此玩家的此位置没有卡牌。如果为负则表示是特殊卡牌（如虫卵牌的卡牌<code>模板索引</code>为-1）</p></div><div class="custom-container tip"><p class="custom-container-title">遍历玩家的卡牌</p><p>使用动作<code>为玩家每张卡牌执行</code>来遍历玩家所有已进场的卡牌。该动作将自动忽略<code>模板索引</code>为0的空卡牌。使用函数<code>触发卡牌索引</code>来获取当前遍历到的索引。</p></div><h3 id="运用卡牌模板" tabindex="-1"><a class="header-anchor" href="#运用卡牌模板" aria-hidden="true">#</a> 运用卡牌模板</h3><h4 id="记录并获取卡牌模板索引" tabindex="-1"><a class="header-anchor" href="#记录并获取卡牌模板索引" aria-hidden="true">#</a> 记录并获取卡牌模板索引</h4><p>卡牌模板初始化后，全局数组变量<code>卡牌所有模板</code>会进行一次重新排序。我设计了一个卡牌模板，那么如何知道这个卡牌模板的“卡牌模板索引”具体是多少呢？为此我们需要使用动作<code>记录刚才添加的卡牌模板的索引</code>和函数<code>获取卡牌模板索引</code>。参考「原始刺蛇」的记录和使用：</p><ol><li>使用动作<code>记录刚才添加的卡牌模板的索引</code>于<code>添加一个卡牌模板</code>下方，用创建的常量<code>_模板ID - 原始刺蛇</code>作为模板id。</li></ol><p><img src="/SCTavern-Editor-Manual/assets/p15.3eb8395d.png" alt="p15"></p><ol start="2"><li>使用函数<code>获取卡牌模板索引</code>，用对应的模板id，即<code>_模板ID - 原始刺蛇</code>来获取“卡牌模板索引”。</li></ol><p><img src="/SCTavern-Editor-Manual/assets/p16.9e760707.png" alt="p16"></p><h4 id="手动给玩家添加卡牌" tabindex="-1"><a class="header-anchor" href="#手动给玩家添加卡牌" aria-hidden="true">#</a> 手动给玩家添加卡牌</h4><p>使用动作<code>塞给玩家一张卡</code>可为玩家立即添加一张卡牌。默认添加到暂存区，如果暂存区满则直接进场（有定点部署的卡牌依然会让玩家选择部署位置）。如果场上卡牌也满了，则作废。参数<code>只允许暂存</code>为<code>真</code>时，暂存区满则不会直接进场。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/SCTavern-Editor-Manual/" class="" aria-label="开始"><!--[--><!--]--> 开始 <!--[--><!--]--></a></span><span class="next"><a href="/SCTavern-Editor-Manual/card/effectString.html" class="" aria-label="特效字符串"><!--[--><!--]--> 特效字符串 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/SCTavern-Editor-Manual/assets/app.c004be2d.js" defer></script>
  </body>
</html>
